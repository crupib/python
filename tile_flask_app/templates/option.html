{% extends "base.html" %}
{% block content %}

{% set banner = func.bg_color or "#8B0000" %}
<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-xl-10">

      <!-- Header / Banner -->
      <div class="p-4 p-md-5 rounded-4 text-white d-flex align-items-center justify-content-between"
           style="background-color: {{ banner }};">
        <div class="d-flex align-items-center">
          <img
            src="{{ url_for('static', filename=(func.image or 'images/75th_main.jpeg')) }}"
            alt="{{ func.title }}"
            class="rounded me-3"
            style="width:84px;height:84px;object-fit:cover;"
          />
          <div>
            <h1 class="h2 mb-1">{{ func.title }}</h1>
            <p class="mb-0 opacity-75">{{ func.description }}</p>
          </div>
        </div>

        <a href="{{ url_for('function_page', slug=func.slug) }}" class="btn btn-outline-light d-none d-md-inline-flex">
          ← Back to {{ func.title }}
        </a>
      </div>

      <!-- Step card -->
      <div class="card shadow-sm rounded-4 mt-4 overflow-hidden">
        <div class="px-4 py-2 d-flex align-items-center justify-content-between"
             style="background:#1f1f1f;color:#fff;">
          <strong>Result</strong>
          <span class="fw-semibold">{{ opt.label or opt.slug }}</span>
        </div>

        <div class="card-body">
          {% if output %}
            <pre class="bg-light p-3 rounded" style="white-space:pre-wrap">{{ output }}</pre>
          {% else %}
            <div class="alert alert-warning mb-0">
              No output was produced by this command.
            </div>
          {% endif %}

          <div class="d-flex gap-2 mt-3">
            <a href="{{ url_for('function_page', slug=func.slug) }}" class="btn btn-secondary">← Run another</a>
            <a href="{{ url_for('index') }}" class="btn btn-outline-secondary">Back to Main</a>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

{% endblock %}

